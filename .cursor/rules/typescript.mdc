---
alwaysApply: true
---

# TypeScript ãƒ«ãƒ¼ãƒ«

## ğŸ¯ å‹å®‰å…¨æ€§

### åŸºæœ¬åŸå‰‡
- **å¿…é ˆ**: å…¨ã¦ã®å¤‰æ•°ãƒ»é–¢æ•°ã«å‹ã‚’æ˜ç¤ºçš„ã«å®šç¾©
- **å¿…é ˆ**: `any`ã‚’ä½¿ç”¨ã—ãªã„
- **å¿…é ˆ**: `unknown`ã‚’é©åˆ‡ã«ä½¿ç”¨
- **æ¨å¥¨**: strictãƒ¢ãƒ¼ãƒ‰ã‚’ç¶­æŒ

```typescript
// âœ… Good
const count: number = 0;
const message: string = 'Hello';
const isActive: boolean = true;

// âŒ Bad
const count = 0; // å‹æ¨è«–ã«é ¼ã‚Šã™ãï¼ˆæ˜ç¤ºçš„ã§ãªã„ï¼‰
const data: any = response; // anyã¯ç¦æ­¢
```

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
- **å¿…é ˆ**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã¯interfaceã§å®šç¾©
- **æ¨å¥¨**: ç¶™æ‰¿é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã¯extendsã‚’æ´»ç”¨
- **å‘½å**: PascalCaseã§æ˜ç¢ºãªåå‰

```typescript
// âœ… Good
interface Article extends MicroCMSContent {
  title: string;
  content: string;
  author: Author;
}

interface ApiResponse<T> {
  data: T;
  success: boolean;
}

// âŒ Bad
type article = { // å°æ–‡å­—ã¯Ã—
  title: any; // anyã¯Ã—
}
```

### å‹ã‚¬ãƒ¼ãƒ‰
- **æ¨å¥¨**: å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã‚’é©åˆ‡ã«ä½¿ç”¨
- **å¿…é ˆ**: å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã®å‹ãƒã‚§ãƒƒã‚¯

```typescript
// âœ… Good
const isArticle = (data: unknown): data is Article => {
  return typeof data === 'object' &&
         data !== null &&
         'title' in data &&
         'content' in data;
};

// ä½¿ç”¨ä¾‹
if (isArticle(response)) {
  // responseã¯Articleå‹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹
  console.log(response.title);
}
```

## ğŸ“¦ å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«

### ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®
- **å ´æ‰€**: `src/types/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- **åˆ†é¡**: æ©Ÿèƒ½åˆ¥ã«åˆ†å‰²
  - `api.ts` - microCMSé–¢é€£ã®å‹ï¼ˆä½œæˆæ¸ˆã¿ï¼‰âœ…
  - `ui.ts` - UIé–¢é€£ã®å‹ï¼ˆä½œæˆæ¸ˆã¿ï¼‰âœ…
  - `utils.ts` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢é€£ã®å‹ï¼ˆä»Šå¾Œè¿½åŠ äºˆå®šï¼‰

### å‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **å¿…é ˆ**: `export`ã§æ˜ç¤ºçš„ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **æ¨å¥¨**: é–¢é€£ã™ã‚‹å‹ã‚’ã¾ã¨ã‚ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```typescript
// src/types/api.ts
export interface Article { ... }
export interface Author { ... }
export interface Category { ... }

// ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‹ã‚‚å®šç¾©
export type ArticlesResponse = MicroCMSListResponse<Article>;
```

## ğŸ”§ ç’°å¢ƒå¤‰æ•°ã®å‹å®šç¾©

### vite-env.d.ts
- **å¿…é ˆ**: ç’°å¢ƒå¤‰æ•°ã®å‹å®šç¾©ã‚’è¿½åŠ 
- **å‘½å**: `VITE_*`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹

```typescript
// src/vite-env.d.ts
interface ImportMetaEnv {
  readonly VITE_MICROCMS_SERVICE_DOMAIN: string;
  readonly VITE_MICROCMS_API_KEY: string;
  // æ–°ã—ã„ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ æ™‚ã¯ã“ã“ã«å‹å®šç¾©
}
```

## âš ï¸ å‹ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

### ã‚¨ãƒ©ãƒ¼è§£æ±ºé †åº
1. **å‹å®šç¾©ã®ç¢ºèª** - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ­£ã—ã„ã‹
2. **å‹ã‚¬ãƒ¼ãƒ‰ã®ä½¿ç”¨** - unknownå‹ã®é©åˆ‡ãªå‡¦ç†
3. **énull assertion (`!`)** - æœ€å¾Œã®æ‰‹æ®µã¨ã—ã¦é™å®šçš„ã«ä½¿ç”¨

```typescript
// âœ… å‹ã‚¬ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
if (data && typeof data === 'object' && 'title' in data) {
  return data.title;
}

// âš ï¸ énull assertionã¯é™å®šçš„ã«
const element = document.getElementById('root')!; // DOMè¦ç´ ã®å­˜åœ¨ãŒç¢ºå®Ÿãªå ´åˆã®ã¿
```

### è¨­å®š
- **tsconfig.json**: strictè¨­å®šã‚’ç¶­æŒ
- **noImplicitAny**: true
- **strictNullChecks**: true

---

**æœ€çµ‚æ›´æ–°**: 2024å¹´7æœˆï¼ˆIssue #4å®Œäº†æ™‚ç‚¹ï¼‰
# TypeScript ãƒ«ãƒ¼ãƒ«

## ğŸ¯ å‹å®‰å…¨æ€§

### åŸºæœ¬åŸå‰‡
- **å¿…é ˆ**: å…¨ã¦ã®å¤‰æ•°ãƒ»é–¢æ•°ã«å‹ã‚’æ˜ç¤ºçš„ã«å®šç¾©
- **å¿…é ˆ**: `any`ã‚’ä½¿ç”¨ã—ãªã„
- **å¿…é ˆ**: `unknown`ã‚’é©åˆ‡ã«ä½¿ç”¨
- **æ¨å¥¨**: strictãƒ¢ãƒ¼ãƒ‰ã‚’ç¶­æŒ

```typescript
// âœ… Good
const count: number = 0;
const message: string = 'Hello';
const isActive: boolean = true;

// âŒ Bad
const count = 0; // å‹æ¨è«–ã«é ¼ã‚Šã™ãï¼ˆæ˜ç¤ºçš„ã§ãªã„ï¼‰
const data: any = response; // anyã¯ç¦æ­¢
```

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©
- **å¿…é ˆ**: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‹ã¯interfaceã§å®šç¾©
- **æ¨å¥¨**: ç¶™æ‰¿é–¢ä¿‚ãŒã‚ã‚‹å ´åˆã¯extendsã‚’æ´»ç”¨
- **å‘½å**: PascalCaseã§æ˜ç¢ºãªåå‰

```typescript
// âœ… Good
interface Article extends MicroCMSContent {
  title: string;
  content: string;
  author: Author;
}

interface ApiResponse<T> {
  data: T;
  success: boolean;
}

// âŒ Bad
type article = { // å°æ–‡å­—ã¯Ã—
  title: any; // anyã¯Ã—
}
```

### å‹ã‚¬ãƒ¼ãƒ‰
- **æ¨å¥¨**: å‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã‚’é©åˆ‡ã«ä½¿ç”¨
- **å¿…é ˆ**: å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã®å‹ãƒã‚§ãƒƒã‚¯

```typescript
// âœ… Good
const isArticle = (data: unknown): data is Article => {
  return typeof data === 'object' &&
         data !== null &&
         'title' in data &&
         'content' in data;
};

// ä½¿ç”¨ä¾‹
if (isArticle(response)) {
  // responseã¯Articleå‹ã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹
  console.log(response.title);
}
```

## ğŸ“¦ å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«

### ãƒ•ã‚¡ã‚¤ãƒ«é…ç½®
- **å ´æ‰€**: `src/types/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
- **åˆ†é¡**: æ©Ÿèƒ½åˆ¥ã«åˆ†å‰²
  - `api.ts` - microCMSé–¢é€£ã®å‹ï¼ˆä½œæˆæ¸ˆã¿ï¼‰âœ…
  - `ui.ts` - UIé–¢é€£ã®å‹ï¼ˆä½œæˆæ¸ˆã¿ï¼‰âœ…
  - `utils.ts` - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢é€£ã®å‹ï¼ˆä»Šå¾Œè¿½åŠ äºˆå®šï¼‰

### å‹ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **å¿…é ˆ**: `export`ã§æ˜ç¤ºçš„ã«ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- **æ¨å¥¨**: é–¢é€£ã™ã‚‹å‹ã‚’ã¾ã¨ã‚ã¦ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

```typescript
// src/types/api.ts
export interface Article { ... }
export interface Author { ... }
export interface Category { ... }

// ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å‹ã‚‚å®šç¾©
export type ArticlesResponse = MicroCMSListResponse<Article>;
```

## ğŸ”§ ç’°å¢ƒå¤‰æ•°ã®å‹å®šç¾©

### vite-env.d.ts
- **å¿…é ˆ**: ç’°å¢ƒå¤‰æ•°ã®å‹å®šç¾©ã‚’è¿½åŠ 
- **å‘½å**: `VITE_*`ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹

```typescript
// src/vite-env.d.ts
interface ImportMetaEnv {
  readonly VITE_MICROCMS_SERVICE_DOMAIN: string;
  readonly VITE_MICROCMS_API_KEY: string;
  // æ–°ã—ã„ç’°å¢ƒå¤‰æ•°ã‚’è¿½åŠ æ™‚ã¯ã“ã“ã«å‹å®šç¾©
}
```

## âš ï¸ å‹ã‚¨ãƒ©ãƒ¼å¯¾å¿œ

### ã‚¨ãƒ©ãƒ¼è§£æ±ºé †åº
1. **å‹å®šç¾©ã®ç¢ºèª** - ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ­£ã—ã„ã‹
2. **å‹ã‚¬ãƒ¼ãƒ‰ã®ä½¿ç”¨** - unknownå‹ã®é©åˆ‡ãªå‡¦ç†
3. **énull assertion (`!`)** - æœ€å¾Œã®æ‰‹æ®µã¨ã—ã¦é™å®šçš„ã«ä½¿ç”¨

```typescript
// âœ… å‹ã‚¬ãƒ¼ãƒ‰ã‚’ä½¿ç”¨
if (data && typeof data === 'object' && 'title' in data) {
  return data.title;
}

// âš ï¸ énull assertionã¯é™å®šçš„ã«
const element = document.getElementById('root')!; // DOMè¦ç´ ã®å­˜åœ¨ãŒç¢ºå®Ÿãªå ´åˆã®ã¿
```

### è¨­å®š
- **tsconfig.json**: strictè¨­å®šã‚’ç¶­æŒ
- **noImplicitAny**: true
- **strictNullChecks**: true

---

**æœ€çµ‚æ›´æ–°**: 2024å¹´7æœˆï¼ˆIssue #4å®Œäº†æ™‚ç‚¹ï¼‰
